### 🧱 一、系统总体架构层级（4层）

![arch](./imgs/IEA_arch.svg)

```
【1】用户界面层（Frontend UI Layer）
【2】应用服务层（Application Service Layer）
【3】AI智能服务层（AI/ML Intelligence Layer）(合并至4)
【4】业务逻辑层（Business Logic Layer）
【5】数据访问层（Data Access Layer）(废弃)
【6】基础设施层（Infrastructure Layer）

→ 跨层模块：安全 & 权限控制、安全审计、国际化支持、API接口
```

---

### 🔹【1】用户界面层（Frontend UI Layer）

负责所有用户交互，采用响应式设计，支持桌面和移动设备访问。

#### 模块组成：

* 专家信息展示页面
* 高级搜索与筛选界面
* 合作请求与消息通知页面
* 个人中心（专家认领、资料编辑）
* 管理后台界面
* 可视化报告与图谱展示模块
* 多语言支持（中/英文切换）

#### 技术建议：

* 技术栈：React + Next.js（SSR优化SEO）+ Tailwind CSS / Ant Design
* PWA 支持（用于移动端体验）

---

### 🔹【2】应用服务层（Application Service Layer）

封装 UI 和业务逻辑之间的交互逻辑，管理各类服务流程调用。

#### 模块组成：

* 用户注册/登录/认证服务
* 搜索服务协调器（调用语义搜索、筛选引擎）
* 专家推荐服务接口调用器
* 合作请求流程处理器
* 消息中心服务（私信、系统通知）
* 文件上传处理（专家头像、成果文档等）

#### 技术建议：

* 技术栈：Node.js / NestJS / Spring Boot（微服务可选）
* 任务调度框架：BullMQ / Quartz（定时报告、通知）

---

### 🔹【3】AI 智能服务层（AI/ML Intelligence Layer）

智能化核心模块，基于嵌入匹配、语义理解与图谱知识分析。

#### 模块组成：

* 向量搜索引擎（如 FAISS / Weaviate / Milvus）
* 专家语义匹配模型（可用 OpenAI + Embedding / 自训练）
* 多智能体协同推荐系统（如 LangGraph）
* 知识图谱构建模块（基于Neo4j/GraphDB）
* 可解释性推荐标记生成器

#### 技术建议：

* 向量搜索：OpenSearch + k-NN 插件 / Pinecone / Weaviate
* 模型支持：OpenAI API、Hugging Face模型微调、LangChain、RAG
* 图谱关系可视化：D3.js / Cytoscape.js / Neo4j Bloom

---

### 🔹【4】业务逻辑层（Business Logic Layer）

负责所有平台核心业务的实现逻辑，包括规则判断与流程控制。

#### 模块组成：

* 权限控制服务（RBAC）
* 用户生命周期管理（注册、认证、注销）
* 专家信息维护（认领、审核、修改）
* 合作请求管理（发起、响应、状态追踪）
* 报告生成引擎（按季度/年度生成 PDF/PPT）
* 审核流程（专家认领、资料修改）

---

### 🔹【5】数据访问层（Data Access Layer）🆕

此层负责数据读写、存储管理、向量索引、关系图谱 **并新增了 “专家数据采集子系统（爬虫）”** 模块。

#### ✅ 新增模块：**专家数据采集与更新子系统**

| 模块             | 功能描述                                        |
| -------------- | ------------------------------------------- |
| 🌐 爬虫调度器       | 定期从公开网站（高校官网、科研平台、学术数据库等）抓取专家信息             |
| 📄 数据解析模块      | 使用 XPath / 正则 / BeautifulSoup / NLP 提取结构化信息 |
| 🧩 数据清洗与标准化    | 同名专家消歧、成果匹配、机构识别、拼写矫正                       |
| 🔄 数据同步模块      | 将清洗后的数据写入数据库，并更新向量索引、图谱节点等                  |
| 🔁 更新策略引擎      | 支持全量导入 + 增量更新；周期可配置；失败重试机制                  |
| 🕵️ 来源标注与可信度评分 | 对每条数据添加来源和置信分（用于排序、展示时参考）                   |

#### 推荐工具：

* **采集框架**：Scrapy（Python）、Puppeteer（Node.js）、Playwright
* **调度系统**：Airflow / Celery / cronjob
* **清洗工具**：Pandas + spaCy + 自定义实体识别（机构、领域等）

#### 与系统数据层集成：

* 自动将解析出的专家信息写入 PostgreSQL / MongoDB
* 同步更新：

  * 向量搜索库（FAISS/Weaviate）
  * 图谱数据库（Neo4j）
  * 缓存系统（Redis）

---

### 🔹【6】基础设施层（Infrastructure Layer）

提供系统部署、CI/CD、运维、安全、监控和性能支持。

#### 模块组成：

* 应用部署环境（Docker + K8s）
* 持续集成与部署（CI/CD：GitHub Actions / GitLab CI）
* 日志与监控系统（Prometheus + Grafana）
* 异常告警与系统健康检查
* 自动备份与灾难恢复

---

### 🔒 跨层模块

这些模块在多个层之间协同存在：

* **权限与安全控制系统（RBAC + OAuth2）**
* **国际化支持（i18n 模块）**
* **日志审计与合规模块**
* **统一API网关与接口服务（REST / GraphQL）**

---

### 🧩 架构演化建议

| 阶段       | 架构核心         | 说明                      |
| -------- | ------------ | ----------------------- |
| MVP阶段    | 单体架构+模块划分清晰  | 快速搭建原型、功能完整但耦合较强        |
| V1.0–2.0 | 模块解耦+服务注册中心  | 建议拆分为领域服务模块（专家/合作/AI等）  |
| V3.0+    | 微服务架构+异构部署支持 | 支持AI能力独立服务部署、图谱查询服务异步化等 |

---

### 🧭 数据采集流程示意（简略）：

```
公开数据源（高校官网、科研库）
    ↓
[爬虫采集调度器]
    ↓
[结构化解析 + 清洗 + 去重]
    ↓
[入库到平台专家数据库]
    ↓
[自动触发：向量索引重建 + 图谱更新]
```
